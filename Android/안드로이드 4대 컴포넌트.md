# 안드로이드 4대 컴포넌트

**목차**

[안드로이드의 대표적인 구성요소의 공통적인 특징](#안드로이드의-대표적인-구성요소의-공통적인-특징)

[1. 액티비티(Activity)](#1-액티비티activity)

[2. 서비스(Service)](#2-서비스service)

[3. 브로드캐스트 리시버(Broadcast Receiver)](#3-브로드캐스트-리시버broadcast-receiver)

[4. 컨텐트 프로바이더(Content Provider)](#4-컨텐트-프로바이더content-provider)

[인텐트(Intent)](#인텐트intent)

### 안드로이드의 대표적인 구성요소의 공통적인 특징
+ 각 컴포넌트들은 하나의 독립적인 형태
+ 각 컴포넌트들은 고유의 기능을 수행
+ 각 컴포넌트들은 인텐트를 통해 상호작용


## 1. 액티비티(Activity)

사용자가 애플리케이션과 상호작용하는 단일 화면(**사용자와 상호작용 하는 인터페이스**)을 의미

### 특징
+ 인텐트(Intent)를 통해 다른 애플리케이션 액티비티 호출
+ 2개 이상의 액티비티를 동시에 Display 불가
+ 1개 이상의 View 또는 ViewGroup을 포함
+ 애플리케이션은 반드시 1개 이상의 액티비티 포함
+ 화면을 분할할 때는 프래그먼트(Fragment) 사용


## 2. 서비스(Service)

**백그라운드(Background) 작업**을 위한 컴포넌트

<span style="color:#B40404">주의</span> : 서비스는 사용자의 인터페이스(UI)를 방해하지 않고 눈에 보이지 않는 곳에서 작업을 처리하기 때문에 별도의 스레드(Thread)에서 동작한다고 생각할 수 있지만, **메인스레드**에서 동작하기 때문에 서비스 내에서 **별도의 스레드를 생성**하여 작업을 처리해야 한다.

### 특징
+ 네트워크와 연동 가능
+ 별도의 UI를 가지지 않으며 백그라운드에서 수행
+ 액티비티와 서비스는 UI 스레드(메인 스레드)라 불리는 동일한 애플리케이션 스레드로 실행
+ 애플리케이션이 종료되어도 이미 시작된 서비스는 백그라운드에서 계속 동작

> 안드로이드에서 메인 스레드는 UI를 의미한다.


## 3. 브로드캐스트 리시버(Broadcast Receiver)

안드로이드 **OS로 부터 발생하는 각종 이벤트와 정보를 받아와 핸들링**하는 컴포넌트

ex) 디바이스 시스템 부팅시 앱 초기화, 네트워크 끊김 등의 이벤트에 대한 처리, 배터리 부족 알림, 문자 수신

### 특징
+ 거의 대부분 UI를 가지지 않음
+ 안드로이드 디바이스의 특수한 상황에 대응하기 위해 사용
+ 특정한 상황을 제외하고 브로드캐스트는 시스템에서 시작
> 안드로이드 버전 오레오(API Level 26, 27) 이상부터는 앱이 실행중이 아니면 브로드 캐스트 동작을 수행하지 않는다. 이전 버전은 앱이 꺼져도 브로드캐스트가 수행됐지만 오레오 이상부터는 리소스 소모 등의 이유로 기능이 제한됐다.


## 4. 컨텐트 프로바이더(Content Provider)

데이터를 관리하고 다른 애플리케이션의 데이터를 제공하는데 사용(애플리케이션 간의 데이터 공유)되는 컴포넌트, 특정한 애플리케이션이 사용하고 있는 데이터베이스를 공유하기 위해 사용

### 특징
+ SQLite DB/Web/파일 입출력 등을 통해 데이터 관리
+ 외부 애플리케이션이 현재 실행 중인 애플리케이션 내에 있는 데이터베이스(DB)에 함부로 접근하지 못하게 할 수 있으면서 나 자신이 공개하고 공유하고 싶은 데이터만 공유하도록
+ 작은 데이터는 인텐트(Intent)로 애플리케이션끼리 데이터 서로 공유 가능, 음악 또는 사진 파일과 같은 용량이 큰 데이터를 공유하는데 콘텐트 프로바이더 사용
+ 프로바이더의 데이터는 Read(읽기), Write(쓰기)에 대한 퍼미션이 있어야 애플리케이션에 접근 가능
+ CURD(Create, Update, Read, Delete) 원칙 준수

## 인텐트(Intent)

애플리케이션 컴포넌트 간에 작업 수행을 위한 정보 전달을 하는 역할

ex) 액티비티 간의 화면 전환(이동)

### 특징
+ 서로 독립적으로 동작하는 4가지 컴포넌트들 간의 상호 통신을 위한 장치
+ 컴포넌트에 액션(Action), 데이터(Data)등을 전달
+ 인텐트를 통해 다른 애플리케이션의 컴포넌트 활성화 가능

### 명시적 인텐트 vs 암시적 인텐트
인텐트에는 명시적 인텐트, 암시적 인텐트 두 가지가 있다. 인텐트의 의미가 명확하면 명시적 인텐트, 명확하지 않으면 암시적 인텐트라고 한다.

#### 명시적 인텐트
명시적 인텐트는 인텐트에 클래스 객체나 컴포넌트 이름을 지정하여 **호출할 대상을 확실히 알 수 있는 경우에 사용**한다. 주로 애플리케이션 내부에서 사용한다.

+ 특정 컴포넌트나 액티비티가 명확하게 실행되야야 할 경우에 사용된다.

```kotlin
val intent = Intent(this, SubActivity::class.java)
startActivity(intent)
```
+ 이 인텐트는 명시적 인텐트이다. 의도가 명확하기 때문이다.
+ 인텐트에 SubActivity를 인자로 넣어 저 액티비티를 실행해달라고 명확하게 의미를 전달한다.

#### 암시적 인텐트
인텐트의 액션과 데이터를 지정하긴 했지만 호출할 대상이 달라질 수 있는 경우 암시적 인텐트를 사용한다.
+ 즉 설치된 애플리케이션에 대한 정보를 알고 있는 안드로이드 시스템이 인텐트를 이용해 요청한 정보를 처리할 수 있는 적절한 컴포넌트를 찾은 다음 사용자에게 그 대상과 처리 결과를 보여주는 과정을 거치게 된다.

    + 예를 들어 문서 편집기를 선택, 누군가 PDF를 보내서 그 PDF 파일을 클릭하여 열기를 하면 해당 안드로이드 폰에 PDF를 편집하거나 보여줄 수 있는 애플리케이션을 선택할 수 있는 위젯을 보여주게 된다.
+ 암시적 인텐트를 사용하는 이유? 이미 기존에 어떤 기능을 지원하는 앱이 있는 경우 암시적 인텐트를 사용해서 그 앱을 사용하면 된다.

+ 암시적 인텐트도 ActivityManager가 인텐트의 의도에 맞는 적당한 액티비티를 찾아서 실행해준다. 좀 더 정확하게 말하면 ActivityManager는 PackageManager에 resolveActivity API를 호출하여 가장 적합한 액티비티가 어떤 것인지 물어본다. 이를 리졸빙(resolving)이라고 한다.


---

### 출처

https://velog.io/@jojo_devstory/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C-Android-4%EB%8C%80-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8

https://limkydev.tistory.com/35
